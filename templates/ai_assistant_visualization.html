{% extends 'base.html' %}
{% block title %}How AI Shopping Assistant Works{% endblock %}

{% block content %}
<div class="container mt-4">
    <h1 class="mb-4">How Our AI Shopping Assistant Works</h1>
    
    <div class="row mb-4">
        <div class="col-12">
            <div class="card">
                <div class="card-header bg-primary text-white">
                    <h3><i class="fas fa-robot"></i> Meet Your Intelligent Shopping Companion</h3>
                </div>
                <div class="card-body">
                    <p class="lead">Our AI Shopping Assistant combines natural language processing, machine learning, and personalization to create a human-like shopping experience.</p>
                    
                    <div class="row mt-5">
                        <div class="col-md-6">
                            <h4 class="mb-3">Key AI & ML Technologies Powering Your Assistant</h4>
                            <ul class="list-group">
                                <li class="list-group-item">
                                    <div class="d-flex">
                                        <div class="mr-3"><i class="fas fa-brain text-primary fa-2x"></i></div>
                                        <div>
                                            <h5>Natural Language Understanding</h5>
                                            <p class="mb-0">Advanced NLP models understand your requests in everyday language</p>
                                        </div>
                                    </div>
                                </li>
                                <li class="list-group-item">
                                    <div class="d-flex">
                                        <div class="mr-3"><i class="fas fa-fingerprint text-success fa-2x"></i></div>
                                        <div>
                                            <h5>Personalized Memory System</h5>
                                            <p class="mb-0">Contextual learning remembers your preferences and purchase history</p>
                                        </div>
                                    </div>
                                </li>
                                <li class="list-group-item">
                                    <div class="d-flex">
                                        <div class="mr-3"><i class="fas fa-project-diagram text-danger fa-2x"></i></div>
                                        <div>
                                            <h5>Intent Classification</h5>
                                            <p class="mb-0">Machine learning identifies exactly what you're looking for</p>
                                        </div>
                                    </div>
                                </li>
                                <li class="list-group-item">
                                    <div class="d-flex">
                                        <div class="mr-3"><i class="fas fa-cogs text-warning fa-2x"></i></div>
                                        <div>
                                            <h5>Ensemble Recommendation Engine</h5>
                                            <p class="mb-0">Multiple ML algorithms combine to suggest the perfect products</p>
                                        </div>
                                    </div>
                                </li>
                                <li class="list-group-item">
                                    <div class="d-flex">
                                        <div class="mr-3"><i class="fas fa-chart-line text-info fa-2x"></i></div>
                                        <div>
                                            <h5>Adaptive Learning</h5>
                                            <p class="mb-0">Improves with every interaction to deliver increasingly relevant results</p>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <div class="card mb-4">
                                <div class="card-header bg-light">
                                    <h5>The AI Assistant Architecture</h5>
                                </div>
                                <div class="card-body text-center">
                                    <svg width="100%" height="400" viewBox="0 0 600 400" xmlns="http://www.w3.org/2000/svg">
                                        <!-- User input section -->
                                        <rect x="50" y="50" width="120" height="60" rx="10" fill="#E3F2FD" stroke="#1565C0" stroke-width="2"/>
                                        <text x="110" y="75" text-anchor="middle" font-weight="bold">User Input</text>
                                        <text x="110" y="95" text-anchor="middle" font-size="12">Natural Language</text>
                                        
                                        <!-- Intent classification -->
                                        <rect x="240" y="20" width="120" height="50" rx="10" fill="#E8F5E9" stroke="#2E7D32" stroke-width="2"/>
                                        <text x="300" y="45" text-anchor="middle" font-size="12" font-weight="bold">Intent Classification</text>
                                        <path d="M 170 80 L 240 45" stroke="#2E7D32" stroke-width="2" marker-end="url(#arrow)"/>
                                        
                                        <!-- Entity extraction -->
                                        <rect x="240" y="90" width="120" height="50" rx="10" fill="#FFF3E0" stroke="#E65100" stroke-width="2"/>
                                        <text x="300" y="115" text-anchor="middle" font-size="12" font-weight="bold">Entity Extraction</text>
                                        <path d="M 170 80 L 240 115" stroke="#E65100" stroke-width="2" marker-end="url(#arrow)"/>
                                        
                                        <!-- User memory -->
                                        <rect x="240" y="160" width="120" height="50" rx="10" fill="#E0F7FA" stroke="#006064" stroke-width="2"/>
                                        <text x="300" y="185" text-anchor="middle" font-size="12" font-weight="bold">User Memory</text>
                                        <path d="M 170 80 L 240 185" stroke="#006064" stroke-width="2" marker-end="url(#arrow)"/>
                                        
                                        <!-- AI reasoning -->
                                        <rect x="430" y="90" width="120" height="50" rx="10" fill="#EDE7F6" stroke="#4527A0" stroke-width="2"/>
                                        <text x="490" y="115" text-anchor="middle" font-size="12" font-weight="bold">AI Reasoning</text>
                                        <path d="M 360 45 L 430 90" stroke="#4527A0" stroke-width="2" marker-end="url(#arrow)"/>
                                        <path d="M 360 115 L 430 115" stroke="#4527A0" stroke-width="2" marker-end="url(#arrow)"/>
                                        <path d="M 360 185 L 430 140" stroke="#4527A0" stroke-width="2" marker-end="url(#arrow)"/>
                                        
                                        <!-- Recommendation system -->
                                        <rect x="240" y="230" width="120" height="50" rx="10" fill="#FFEBEE" stroke="#B71C1C" stroke-width="2"/>
                                        <text x="300" y="255" text-anchor="middle" font-size="12" font-weight="bold">Recommendation</text>
                                        <text x="300" y="270" text-anchor="middle" font-size="12" font-weight="bold">Engine</text>
                                        <path d="M 490 140 L 360 230" stroke="#B71C1C" stroke-width="2" marker-end="url(#arrow)"/>
                                        
                                        <!-- NLP Search -->
                                        <rect x="240" y="300" width="120" height="50" rx="10" fill="#F3E5F5" stroke="#6A1B9A" stroke-width="2"/>
                                        <text x="300" y="325" text-anchor="middle" font-size="12" font-weight="bold">NLP Search</text>
                                        <path d="M 490 140 L 360 300" stroke="#6A1B9A" stroke-width="2" marker-end="url(#arrow)"/>
                                        
                                        <!-- Response generation -->
                                        <rect x="430" y="230" width="120" height="50" rx="10" fill="#FFF9C4" stroke="#F57F17" stroke-width="2"/>
                                        <text x="490" y="255" text-anchor="middle" font-size="12" font-weight="bold">Response</text>
                                        <text x="490" y="270" text-anchor="middle" font-size="12" font-weight="bold">Generation</text>
                                        <path d="M 360 255 L 430 255" stroke="#F57F17" stroke-width="2" marker-end="url(#arrow)"/>
                                        <path d="M 360 325 L 430 280" stroke="#F57F17" stroke-width="2" marker-end="url(#arrow)"/>
                                        
                                        <!-- Output -->
                                        <rect x="430" y="320" width="120" height="60" rx="10" fill="#E1F5FE" stroke="#0277BD" stroke-width="2"/>
                                        <text x="490" y="345" text-anchor="middle" font-weight="bold">Assistant</text>
                                        <text x="490" y="365" text-anchor="middle" font-size="12">Natural Response</text>
                                        <path d="M 490 280 L 490 320" stroke="#0277BD" stroke-width="2" marker-end="url(#arrow)"/>
                                        
                                        <!-- Arrows -->
                                        <defs>
                                            <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
                                                <path d="M0,0 L0,6 L9,3 z" fill="#000"/>
                                            </marker>
                                        </defs>
                                    </svg>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="row mb-4">
        <div class="col-12">
            <div class="card">
                <div class="card-header bg-info text-white">
                    <h3><i class="fas fa-cogs"></i> Behind the Scenes: How the Assistant Processes Your Request</h3>
                </div>
                <div class="card-body">
                    <div class="text-center mb-5">
                        <h4>Step-by-Step Example</h4>
                        
                        <div class="table-responsive mt-4">
                            <table class="table table-bordered">
                                <thead class="thead-light">
                                    <tr>
                                        <th width="20%">Stage</th>
                                        <th width="40%">Processing</th>
                                        <th width="40%">Example: "Show me red running shoes under $100"</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><strong>1. Natural Language Input</strong></td>
                                        <td>User's request is received as natural language</td>
                                        <td class="text-primary">"Show me red running shoes under $100"</td>
                                    </tr>
                                    <tr>
                                        <td><strong>2. Intent Classification</strong></td>
                                        <td>AI determines the user's primary intention</td>
                                        <td><span class="badge badge-success">product_search</span> (User wants to find products)</td>
                                    </tr>
                                    <tr>
                                        <td><strong>3. Entity Extraction</strong></td>
                                        <td>System identifies key details from the request</td>
                                        <td>
                                            <ul class="mb-0">
                                                <li><strong>Product Category:</strong> shoes, running shoes</li>
                                                <li><strong>Color:</strong> red</li>
                                                <li><strong>Price Constraint:</strong> under $100</li>
                                            </ul>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><strong>4. User Memory</strong></td>
                                        <td>System checks user preferences and history</td>
                                        <td>
                                            <ul class="mb-0">
                                                <li>Previous searches: sports equipment</li>
                                                <li>Preferred brands: Nike, Adidas</li>
                                                <li>Style preferences: athletic, casual</li>
                                            </ul>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><strong>5. Product Search</strong></td>
                                        <td>Searches product database using NLP-enhanced queries</td>
                                        <td>
                                            <code>SEARCH: "red running shoes athletic casual under $100"</code><br>
                                            <small class="text-muted">+ brand boosting for Nike, Adidas</small>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><strong>6. Response Generation</strong></td>
                                        <td>Creates natural language response with product recommendations</td>
                                        <td>
                                            "Here are some red running shoes under $100. I've included some Nike and Adidas options based on your preferences."
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><strong>7. Learning</strong></td>
                                        <td>Updates user preferences based on interaction</td>
                                        <td>
                                            <ul class="mb-0">
                                                <li>Increased interest in: running shoes, red color</li>
                                                <li>Price sensitivity: budget-conscious</li>
                                            </ul>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="row mb-5">
        <div class="col-12">
            <div class="card">
                <div class="card-header bg-warning text-white">
                    <h3><i class="fas fa-lightbulb"></i> Advanced Features & ML Capabilities</h3>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="card mb-3">
                                <div class="card-body">
                                    <h4 class="mb-3"><i class="fas fa-user-circle text-primary mr-2"></i> Personal Preference Learning</h4>
                                    <p>The assistant builds a detailed preference profile for each user by analyzing:</p>
                                    <ul>
                                        <li><strong>Explicit preferences</strong> - Direct requests and feedback</li>
                                        <li><strong>Implicit preferences</strong> - Interaction patterns and browsing history</li>
                                        <li><strong>Temporal patterns</strong> - Seasonal interests and trend awareness</li>
                                    </ul>
                                    <p>This profile continuously adapts using reinforcement learning techniques to provide increasingly personalized recommendations.</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card mb-3">
                                <div class="card-body">
                                    <h4 class="mb-3"><i class="fas fa-comments text-success mr-2"></i> Contextual Conversation</h4>
                                    <p>Unlike simple chatbots, the AI assistant maintains context throughout the conversation:</p>
                                    <ul>
                                        <li><strong>Conversational memory</strong> - Remembers previous messages</li>
                                        <li><strong>Query refinement</strong> - Builds on previous searches</li>
                                        <li><strong>Follow-up handling</strong> - Responds appropriately to questions about previous recommendations</li>
                                    </ul>
                                    <p>Advanced LSTM neural networks model the conversation flow to ensure natural multi-turn interactions.</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card mb-3">
                                <div class="card-body">
                                    <h4 class="mb-3"><i class="fas fa-project-diagram text-danger mr-2"></i> Hybrid Recommendation System</h4>
                                    <p>The assistant leverages multiple recommendation approaches simultaneously:</p>
                                    <ul>
                                        <li><strong>Content-based filtering</strong> - Matches product attributes with preferences</li>
                                        <li><strong>Collaborative filtering</strong> - Uses similar user behavior</li>
                                        <li><strong>Knowledge-based</strong> - Applies domain expertise on products</li>
                                        <li><strong>Neural Collaborative Filtering</strong> - Deep learning enhanced recommendations</li>
                                    </ul>
                                    <p>An ensemble model weights these approaches dynamically based on context and user history.</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card mb-3">
                                <div class="card-body">
                                    <h4 class="mb-3"><i class="fas fa-brain text-info mr-2"></i> Neural Language Processing</h4>
                                    <p>Advanced NLP capabilities power the assistant's understanding:</p>
                                    <ul>
                                        <li><strong>Intent classification</strong> - Identifies the purpose behind queries</li>
                                        <li><strong>Named entity recognition</strong> - Extracts key product attributes</li>
                                        <li><strong>Sentiment analysis</strong> - Detects user emotions and satisfaction</li>
                                        <li><strong>Semantic search</strong> - Finds products based on meaning, not just keywords</li>
                                    </ul>
                                    <p>Transformer-based models similar to BERT provide deep contextual understanding of user requests.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="text-center mb-5">
        <a href="{{ url_for('ai_assistant_page') }}" class="btn btn-primary btn-lg">
            <i class="fas fa-robot mr-2"></i> Chat with Your AI Assistant Now
        </a>
    </div>
</div>
{% endblock %}